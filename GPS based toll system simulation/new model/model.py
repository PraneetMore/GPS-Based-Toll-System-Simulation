import folium
import numpy as np
from sklearn.cluster import DBSCAN
from geopy.distance import great_circle
from shapely.geometry import MultiPoint
from IPython.display import display

# Input GPS data
gps_data = [
    
[72.877671,19.07596],[72.87816,19.075648],[72.878207,19.075618],[72.878446,19.075471],[72.878864,19.075232],[72.87948,19.074938],[72.879694,19.074777],[72.88015,19.074502],[72.880958,19.073957],[72.881251,19.073816],[72.881659,19.073706],[72.88215,19.073647],[72.882396,19.073619],[72.882519,19.073605],[72.88288,19.073549],[72.883159,19.073458],[72.88347,19.073297],[72.88394,19.072959],[72.884237,19.07267],[72.884978,19.072014],[72.885147,19.07185],[72.886699,19.070028],[72.887933,19.068567],[72.888705,19.067652],[72.889022,19.067326],[72.88983,19.066573],[72.890061,19.066401],[72.890285,19.066278],[72.890794,19.066104],[72.891794,19.065848],[72.893053,19.065503],[72.893344,19.06548],[72.893624,19.065405],[72.895342,19.064944],[72.895729,19.064793],[72.896375,19.064642],[72.896829,19.06458],[72.897103,19.064585],[72.897362,19.064619],[72.897579,19.064683],[72.897773,19.064776],[72.898796,19.065465],[72.900235,19.066345],[72.901554,19.067209],[72.902147,19.067545],[72.903608,19.068546],[72.903856,19.068642],[72.90497,19.069388],[72.905284,19.069738],[72.906922,19.070798],[72.907145,19.070861],[72.907377,19.070703],[72.90748,19.070652],[72.908051,19.070418],[72.908341,19.070301],[72.908525,19.070204],[72.908732,19.070063],[72.90909,19.069739],[72.909254,19.069566],[72.909416,19.069365],[72.90965,19.068977],[72.909738,19.06879],[72.90986,19.068394],[72.909909,19.068177],[72.909948,19.067881],[72.91006,19.066945],[72.910164,19.066506],[72.910299,19.066109],[72.910471,19.065734],[72.910593,19.065556],[72.910726,19.065381],[72.910884,19.065206],[72.911253,19.064846],[72.911544,19.064575],[72.912014,19.06422],[72.912286,19.064043],[72.912556,19.063898],[72.912989,19.063737],[72.913647,19.06355],[72.913884,19.063483],[72.914547,19.063294],[72.91491,19.063162],[72.91515,19.063118],[72.915813,19.062944],[72.916102,19.062853],[72.916651,19.062649],[72.919736,19.061397],[72.9205,19.061031],[72.926454,19.057959],[72.927453,19.057444],[72.928686,19.05683],[72.928867,19.056758],[72.929038,19.056707],[72.929222,19.056673],[72.93122,19.056423],[72.931738,19.056313],[72.931951,19.056249],[72.932169,19.056165],[72.932393,19.056055],[72.932983,19.055696],[72.933517,19.055334],[72.934232,19.054797],[72.934606,19.054439],[72.934902,19.054112],[72.935414,19.053448],[72.936391,19.051987],[72.936633,19.051745],[72.936749,19.051577],[72.936854,19.051387],[72.937127,19.051484],[72.940066,19.052529],[72.940788,19.052696],[72.953434,19.057242],[72.953576,19.057292],[72.956902,19.058478],[72.957424,19.058636],[72.957908,19.058747],[72.958507,19.058849],[72.95959,19.059078],[72.960695,19.059343],[72.961148,19.059482],[72.963657,19.060099],[72.968516,19.061262],[72.970266,19.061664],[72.975129,19.062816],[72.978072,19.063464],[72.97906,19.063814],[72.979662,19.064061],[72.980284,19.064315],[72.981531,19.064894],[72.981805,19.065084],[72.982115,19.065342],[72.984197,19.067336],[72.984374,19.067524],[72.984656,19.067781],[72.985576,19.068775],[72.985802,19.06897],[72.986064,19.069147],[72.986364,19.069299],[72.986639,19.069404],[72.986935,19.069492],[72.987203,19.069546],[72.98753,19.069559],[72.98954,19.069404],[72.992012,19.069194],[72.992767,19.069116],[72.993513,19.06901],[73.000632,19.068429],[73.001239,19.068425],[73.001811,19.068371],[73.002746,19.068287],[73.005332,19.068112],[73.006008,19.06801],[73.012044,19.067586],[73.012563,19.067572],[73.014571,19.067401],[73.015094,19.067356],[73.015955,19.067289],[73.018031,19.067127],[73.019569,19.066987],[73.019805,19.066886],[73.019898,19.066808],[73.019975,19.066713],[73.020028,19.066603],[73.020052,19.066487],[73.020047,19.066144],[73.020001,19.065439],[73.019974,19.065257],[73.019918,19.06512],[73.01958,19.064696],[73.019522,19.06458],[73.019466,19.06442],[73.019429,19.064224],[73.019395,19.063841],[73.019303,19.063158],[73.019301,19.06304],[73.019288,19.062288],[73.019311,19.060417],[73.019335,19.059674],[73.019416,19.057641],[73.019493,19.054232],[73.019502,19.054049],[73.019513,19.053685],[73.019555,19.053389],[73.019627,19.053098],[73.019729,19.052815],[73.019858,19.052542],[73.020015,19.052282],[73.020197,19.052038],[73.021881,19.050156],[73.021923,19.050109],[73.021972,19.050055],[73.022054,19.049955],[73.026584,19.044756],[73.02697,19.044396],[73.02798,19.043295],[73.028155,19.043057],[73.028304,19.042804],[73.028427,19.042537],[73.028521,19.042261],[73.028586,19.041978],[73.029004,19.038534],[73.02914,19.038124],[73.029878,19.033076],[73.029899,19.032948],[73.02991,19.03286],[73.029982,19.032452],[73.030235,19.030636],[73.030289,19.03046],[73.030379,19.030298],[73.030436,19.030223],[73.030641,19.03001],[73.030796,19.029912],[73.030892,19.029872],[73.031199,19.029804],[73.031406,19.029829],[73.032324,19.030062],[73.032624,19.030096],[73.032776,19.030092],[73.033074,19.030042],[73.033218,19.029997],[73.033488,19.029868],[73.033677,19.029732],[73.034248,19.029133],[73.034819,19.028576],[73.037907,19.025862],[73.038147,19.025717],[73.039111,19.024926],[73.040293,19.024035],[73.040545,19.023878],[73.040817,19.023752],[73.041102,19.023658],[73.041398,19.023598],[73.044027,19.023202],[73.044667,19.023048],[73.045225,19.02296],[73.046832,19.022706],[73.04716,19.022658],[73.049126,19.022351],[73.049607,19.022322],[73.050087,19.022354],[73.050324,19.022392],[73.050789,19.022513],[73.051014,19.022595],[73.051232,19.022691],[73.053299,19.023726],[73.053893,19.024065],[73.05986,19.02813],[73.060525,19.028584],[73.062707,19.030071],[73.063437,19.03065],[73.065755,19.032241],[73.066008,19.032406],[73.068815,19.034333],[73.069389,19.034636],[73.070134,19.035146],[73.070379,19.035314],[73.072133,19.036516],[73.072649,19.036814],[73.074254,19.037935],[73.074614,19.038159],[73.075126,19.038407],[73.075524,19.038499],[73.075935,19.03854],[73.076349,19.038528],[73.076756,19.038462],[73.07715,19.038343],[73.077526,19.038184],[73.078482,19.037615],[73.078609,19.03753],[73.079556,19.03681],[73.08246,19.034693],[73.08254,19.034635],[73.083688,19.033865],[73.083756,19.033816],[73.083793,19.033784],[73.084251,19.033552],[73.085586,19.032784],[73.085659,19.032739],[73.086091,19.03247],[73.088202,19.031005],[73.088657,19.030618],[73.091242,19.0289],[73.091754,19.028623],[73.093014,19.027728],[73.093394,19.027457],[73.09419,19.026891],[73.094285,19.026822],[73.096666,19.025111],[73.096913,19.024855],[73.098638,19.02363],[73.099107,19.023393],[73.100489,19.022404],[73.101379,19.021768],[73.101868,19.02134],[73.103352,19.020293],[73.103461,19.020216],[73.103869,19.020069],[73.105625,19.018883],[73.106089,19.018595],[73.106323,19.018491],[73.10638,19.018503],[73.106498,19.018507],[73.106612,19.018482],[73.106688,19.018447],[73.106813,19.018339],[73.106869,19.018245],[73.106897,19.018141],[73.106886,19.017981],[73.106844,19.017881],[73.106776,19.017795],[73.106685,19.017726],[73.106676,19.017496],[73.106969,19.015508],[73.107017,19.015177],[73.107051,19.014941],[73.107093,19.014649],[73.107103,19.014572],[73.107139,19.014266],[73.107266,19.013191],[73.107277,19.012986],[73.107298,19.012541],[73.107315,19.012201],[73.107339,19.011904],[73.107578,19.010475],[73.107728,19.009472],[73.107827,19.008348],[73.107774,19.007812],[73.107624,19.005081],[73.107616,19.004874],[73.107604,19.004388],[73.107505,19.000949],[73.107532,19.000655],[73.107573,19.000496],[73.107642,19.000292],[73.107772,18.999991],[73.107882,18.999796],[73.10804,18.999561],[73.108239,18.999337],[73.108384,18.99921],[73.109452,18.998607],[73.109819,18.998399],[73.110096,18.998208],[73.112753,18.99678],[73.113024,18.9966],[73.113238,18.9964],[73.113319,18.996295],[73.114399,18.994616],[73.115505,18.992807],[73.115575,18.99263],[73.115618,18.9924],[73.115722,18.99106],[73.115816,18.989642],[73.116033,18.984932],[73.116064,18.984632],[73.116079,18.984283],[73.116143,18.982614],[73.116201,18.981192],[73.11619,18.98055],[73.116161,18.980128],[73.116122,18.979786],[73.116096,18.979558],[73.116119,18.97935],[73.116133,18.97929],[73.116647,18.977732],[73.11705,18.976803],[73.117107,18.976693],[73.117478,18.976061],[73.117749,18.975699],[73.117998,18.975455],[73.118217,18.975284],[73.11859,18.975065],[73.119068,18.974907],[73.119265,18.974865],[73.119504,18.97484],[73.119767,18.974838],[73.120175,18.974875],[73.120358,18.974916],[73.121201,18.975177],[73.121641,18.975263],[73.121872,18.975289],[73.122472,18.975329],[73.122672,18.975316],[73.122857,18.975284],[73.123195,18.975173],[73.12457,18.974674],[73.125055,18.974501],[73.125501,18.974343],[73.127101,18.973773],[73.128478,18.97333],[73.128687,18.973236],[73.128988,18.973034],[73.129375,18.972751],[73.129661,18.972516],[73.130107,18.972104],[73.130576,18.971671],[73.13102,18.97134],[73.131084,18.971295],[73.131452,18.971036],[73.131942,18.970691],[73.132647,18.970134],[73.13308,18.969821],[73.133669,18.969356],[73.134434,18.968895],[73.134805,18.968792],[73.135148,18.968611],[73.135486,18.968389],[73.137012,18.967351],[73.137588,18.966794],[73.137765,18.96667],[73.140279,18.96491],[73.142962,18.963033],[73.143771,18.962481],[73.144498,18.962002],[73.144854,18.961768],[73.14534,18.96153],[73.147423,18.96052],[73.1484,18.960046],[73.149182,18.959667],[73.149721,18.959427],[73.150246,18.959243],[73.150987,18.959004],[73.153261,18.958343],[73.153396,18.958305],[73.154403,18.958048],[73.157674,18.957193],[73.157969,18.957113],[73.159259,18.956763],[73.161119,18.95623],[73.161836,18.956022],[73.162078,18.955952],[73.163153,18.955667],[73.165107,18.955148],[73.165367,18.955079],[73.168437,18.954264],[73.169855,18.953888],[73.170609,18.953694],[73.170723,18.953665],[73.171078,18.953528],[73.171428,18.953348],[73.172498,18.952684],[73.174154,18.951578],[73.174675,18.951234],[73.17642,18.95008],[73.177162,18.949564],[73.17773,18.94899],[73.177853,18.948823],[73.17874,18.94762],[73.1801,18.94571],[73.180503,18.945235],[73.18166,18.944],[73.18398,18.94195],[73.184575,18.941548],[73.186013,18.940566],[73.18747,18.93947],[73.188378,18.938753],[73.188879,18.938357],[73.188998,18.938264],[73.18923,18.93808],[73.189404,18.937883],[73.19017,18.93701],[73.19035,18.93673],[73.19077,18.93571],[73.19096,18.935309],[73.19105,18.93512],[73.19122,18.93463],[73.191479,18.933784],[73.191524,18.933657],[73.191655,18.933206],[73.19175,18.932902],[73.19216,18.93166],[73.19247,18.93133],[73.1939,18.9304],[73.194065,18.930317],[73.19422,18.93024],[73.19468,18.93011],[73.195117,18.929949],[73.19517,18.92993],[73.195647,18.929585],[73.196145,18.929146],[73.19622,18.92908],[73.19636,18.928832],[73.196445,18.928584],[73.196484,18.928421],[73.196685,18.926917],[73.196807,18.926052],[73.19687,18.92561],[73.19694,18.92525],[73.19709,18.92489],[73.19736,18.92447],[73.19768,18.92415],[73.19868,18.92352],[73.199394,18.922892],[73.200552,18.921873],[73.20067,18.92177],[73.20226,18.92011],[73.20243,18.91988],[73.20268,18.91946],[73.202806,18.919165],[73.20296,18.9188],[73.2031,18.91841],[73.20316,18.91812],[73.203044,18.917275],[73.20287,18.91629],[73.20282,18.91585],[73.20287,18.9155],[73.20302,18.91498],[73.203101,18.914811],[73.20313,18.91475],[73.20331,18.91451],[73.20354,18.91427],[73.20385,18.914],[73.20435,18.9137],[73.20566,18.91321],[73.20613,18.91299],[73.20683,18.91258],[73.20723,18.912181],[73.20765,18.911716],[73.20802,18.911236],[73.208189,18.910868],[73.208472,18.909916],[73.208553,18.909529],[73.208593,18.909207],[73.20861,18.90889],[73.208659,18.907885],[73.20873,18.90697],[73.20882,18.9066],[73.20894,18.90628],[73.20907,18.906104],[73.20947,18.90556],[73.20976,18.90532],[73.209951,18.9052],[73.21011,18.9051],[73.21159,18.904346],[73.211843,18.904199],[73.21239,18.903617],[73.213539,18.902486],[73.213703,18.902355],[73.2142,18.90203],[73.21474,18.9018],[73.21516,18.90168],[73.218902,18.90161],[73.218996,18.901609],[73.219636,18.901597],[73.220108,18.901585],[73.22116,18.90154],[73.221399,18.901541],[73.222392,18.901525],[73.226647,18.901458],[73.227914,18.90144],[73.228,18.901439],[73.231075,18.901403],[73.23194,18.90141],[73.232997,18.901529],[73.233315,18.90152],[73.23537,18.901133],[73.236192,18.901098],[73.237906,18.901218],[73.240543,18.901314],[73.240917,18.901304],[73.241416,18.901251],[73.241592,18.901219],[73.243974,18.900775],[73.244475,18.90068],[73.246043,18.900391],[73.246842,18.900241],[73.247116,18.900188],[73.247899,18.899997],[73.248346,18.899773],[73.248695,18.899562],[73.251296,18.897715],[73.251765,18.897389],[73.252066,18.897173],[73.253486,18.896136],[73.253955,18.895732],[73.255145,18.894609],[73.256071,18.893812],[73.256211,18.893718],[73.256377,18.893641],[73.256631,18.89355],[73.257143,18.893404],[73.257659,18.893247],[73.257983,18.893096],[73.258479,18.89284],[73.260051,18.892069],[73.260252,18.891969],[73.26048,18.891813],[73.261001,18.891383],[73.261488,18.890958],[73.26179,18.890734],[73.262003,18.890595],[73.262771,18.89016],[73.264223,18.889385],[73.264497,18.889224],[73.264895,18.888944],[73.265073,18.888795],[73.26549,18.888391],[73.26607,18.88743],[73.266785,18.886189],[73.267073,18.885645],[73.267557,18.884639],[73.267844,18.884059],[73.268194,18.883272],[73.268497,18.882591],[73.269026,18.881398],[73.269413,18.88034],[73.269757,18.879441],[73.270336,18.877935],[73.270528,18.877426],[73.27074,18.876701],[73.270927,18.876145],[73.27122,18.875178],[73.271267,18.875016],[73.271527,18.873719],[73.271623,18.87326],[73.271859,18.872117],[73.271963,18.871512],[73.272106,18.87102],[73.272183,18.870817],[73.272447,18.870269],[73.272699,18.869809],[73.272856,18.869473],[73.27294,18.869196],[73.272994,18.868941],[73.273077,18.86815],[73.273116,18.867626],[73.273102,18.867212],[73.27305,18.866829],[73.272948,18.865724],[73.272943,18.864891],[73.27306,18.863917],[73.273061,18.863384],[73.273098,18.862937],[73.273388,18.86188],[73.273456,18.861678],[73.273542,18.861436],[73.273925,18.86041],[73.2742,18.859589],[73.274658,18.858338],[73.275268,18.856577],[73.275799,18.855117],[73.276178,18.854117],[73.276433,18.853272],[73.276563,18.852932],[73.277244,18.85137],[73.277358,18.851011],[73.277391,18.850755],[73.277423,18.850239],[73.277479,18.848641],[73.277518,18.848166],[73.277612,18.847739],[73.277687,18.847519],[73.277858,18.847123],[73.278488,18.845778],[73.278644,18.845383],[73.278889,18.844681],[73.278906,18.844633],[73.279136,18.844015],[73.279173,18.843897],[73.279399,18.84323],[73.279643,18.842601],[73.279941,18.842112],[73.280111,18.841918],[73.280395,18.841658],[73.280793,18.841387],[73.281137,18.841102],[73.281424,18.840789],[73.281582,18.840569],[73.282068,18.839634],[73.282204,18.839423],[73.282767,18.838805],[73.283189,18.83842],[73.283412,18.838268],[73.28371,18.83811],[73.284117,18.837947],[73.285145,18.837588],[73.285666,18.837372],[73.286056,18.837134],[73.286253,18.836971],[73.286452,18.836779],[73.286778,18.836424],[73.288338,18.83457],[73.288753,18.834149],[73.289436,18.83351],[73.289922,18.832993],[73.291064,18.831577],[73.291122,18.831498],[73.292131,18.83013],[73.292984,18.828986],[73.293524,18.828247],[73.29399,18.827608],[73.294125,18.827423],[73.294613,18.82674],[73.294873,18.826375],[73.29533,18.825805],[73.295609,18.825412],[73.296364,18.824349],[73.297101,18.823405],[73.297473,18.82297],[73.299256,18.821404],[73.29977,18.820961],[73.301847,18.819192],[73.302574,18.818665],[73.302888,18.818499],[73.303952,18.818017],[73.304206,18.817916],[73.305766,18.817327],[73.306118,18.81718],[73.306372,18.817075],[73.306649,18.816959],[73.307067,18.816774],[73.307975,18.816333],[73.308414,18.816077],[73.309948,18.815195],[73.310256,18.814912],[73.310468,18.814674],[73.311572,18.813435],[73.312413,18.812332],[73.312942,18.811644],[73.313102,18.811492],[73.313521,18.811162],[73.313988,18.810844],[73.314353,18.810609],[73.315233,18.810041],[73.315762,18.809677],[73.3169,18.808895],[73.317261,18.80864],[73.317738,18.808295],[73.318888,18.807524],[73.319429,18.807122],[73.319774,18.806808],[73.320009,18.806522],[73.320124,18.806334],[73.320475,18.805674],[73.320738,18.805108],[73.321177,18.804242],[73.321172,18.804111],[73.321308,18.80393],[73.32165,18.803434],[73.321968,18.803005],[73.322605,18.802302],[73.323155,18.801871],[73.323784,18.801331],[73.323969,18.801176],[73.324275,18.800919],[73.32454,18.800708],[73.325195,18.800212],[73.325763,18.799824],[73.326203,18.799517],[73.3266,18.799141],[73.326744,18.799079],[73.32723,18.798629],[73.327577,18.798277],[73.327775,18.798072],[73.328017,18.797783],[73.328648,18.797069],[73.328994,18.79678],[73.329224,18.79667],[73.329634,18.796491],[73.330121,18.796237],[73.330695,18.795936],[73.331266,18.795659],[73.332343,18.795163],[73.332908,18.794926],[73.333517,18.794634],[73.334655,18.793985],[73.337163,18.792471],[73.33871,18.791527],[73.339441,18.791098],[73.3395,18.791027],[73.339651,18.790843],[73.339756,18.790591],[73.33986,18.790204],[73.33991,18.789914],[73.340268,18.788281],[73.340295,18.788216],[73.340453,18.787831],[73.340792,18.787481],[73.340999,18.787309],[73.342048,18.786632],[73.342781,18.786112],[73.343251,18.785785],[73.343551,18.785585],[73.34453,18.784981],[73.344748,18.784887],[73.345002,18.78484],[73.34538,18.784854],[73.347338,18.785281],[73.34754,18.7853],[73.347804,18.785278],[73.347973,18.785235],[73.348117,18.785218],[73.348437,18.78513],[73.349,18.785076],[73.349142,18.784976],[73.349219,18.784879],[73.349551,18.784302],[73.349722,18.784065],[73.350033,18.783714],[73.350241,18.783418],[73.35051,18.782984],[73.350629,18.782867],[73.350804,18.782746],[73.35092,18.782616],[73.351002,18.782463],[73.35108,18.782361],[73.35118,18.782331],[73.351558,18.782454],[73.351634,18.782442],[73.35169,18.78241],[73.351751,18.782362],[73.35235,18.781655],[73.352446,18.781503],[73.352514,18.781292],[73.352521,18.781211],[73.352515,18.781041],[73.352477,18.780754],[73.352478,18.78055],[73.352503,18.780489],[73.352683,18.780268],[73.35272,18.780195],[73.352748,18.780034],[73.352757,18.779638],[73.352731,18.779277],[73.352509,18.778399],[73.352364,18.778025],[73.352357,18.777958],[73.352404,18.777853],[73.352468,18.777804],[73.352543,18.777796],[73.352623,18.777808],[73.352702,18.777868],[73.352847,18.778046],[73.35291,18.778074],[73.352963,18.778071],[73.353025,18.778049],[73.353095,18.777991],[73.353192,18.777801],[73.353236,18.777612],[73.353249,18.777446],[73.353235,18.777155],[73.353254,18.776876],[73.353321,18.776398],[73.353386,18.776083],[73.35342,18.775442],[73.353426,18.774961],[73.353452,18.774791],[73.353487,18.774697],[73.353527,18.774652],[73.353581,18.774624],[73.353656,18.774614],[73.353966,18.774638],[73.354051,18.774604],[73.354095,18.774549],[73.354112,18.774467],[73.354051,18.774208],[73.354042,18.774052],[73.354201,18.773604],[73.354303,18.773239],[73.354315,18.773021],[73.354306,18.77227],[73.35432,18.772029],[73.354343,18.771859],[73.35447,18.771295],[73.354461,18.771192],[73.354364,18.771088],[73.354231,18.771055],[73.354145,18.770995],[73.354084,18.770926],[73.354034,18.770838],[73.353954,18.770564],[73.353858,18.770077],[73.353814,18.769983],[73.353768,18.76993],[73.353707,18.769901],[73.353541,18.769967],[73.353476,18.770022],[73.353423,18.770081],[73.35331,18.77029],[73.353176,18.770484],[73.353105,18.770545],[73.353029,18.770573],[73.352955,18.77052],[73.35293,18.770446],[73.35295,18.770379],[73.353134,18.770123],[73.353488,18.769314],[73.353507,18.769214],[73.353495,18.76908],[73.353462,18.768956],[73.353313,18.768557],[73.353277,18.768398],[73.353274,18.768157],[73.353243,18.767913],[73.353211,18.767343],[73.353229,18.767167],[73.353279,18.767011],[73.35333,18.766773],[73.353387,18.766634],[73.353412,18.766606],[73.353463,18.766605],[73.353641,18.766712],[73.353703,18.766714],[73.353771,18.766681],[73.353822,18.766609],[73.353789,18.766544],[73.353677,18.766438],[73.353556,18.766274],[73.353529,18.766144],[73.353549,18.766001],[73.353533,18.765933],[73.3535,18.765885],[73.353454,18.765867],[73.353388,18.765885],[73.353333,18.765935],[73.353162,18.76627],[73.353078,18.766368],[73.352996,18.766412],[73.352936,18.766406],[73.352876,18.766388],[73.352819,18.7663],[73.352769,18.766177],[73.352753,18.766033],[73.352761,18.765864],[73.352912,18.765281],[73.35289,18.765028],[73.352825,18.764898],[73.352771,18.764801],[73.352564,18.764544],[73.352449,18.76445],[73.352292,18.764404],[73.352132,18.76438],[73.351988,18.764398],[73.35186,18.764468],[73.351846,18.764372],[73.351762,18.764441],[73.351699,18.764583],[73.35165,18.764822],[73.351595,18.765003],[73.351523,18.765155],[73.351423,18.765207],[73.351337,18.765199],[73.351267,18.765148],[73.351217,18.765053],[73.351212,18.764984],[73.351241,18.764854],[73.351319,18.764652],[73.351357,18.764318],[73.35135,18.763949],[73.351377,18.763569],[73.351414,18.763325],[73.351418,18.763098],[73.351368,18.762568],[73.351401,18.762424],[73.3515,18.762281],[73.351579,18.762238],[73.351736,18.762183],[73.351824,18.762173],[73.351992,18.762164],[73.352126,18.762181],[73.352231,18.762235],[73.352318,18.762349],[73.352521,18.762961],[73.352564,18.763023],[73.352639,18.763051],[73.35272,18.763052],[73.352801,18.763014],[73.35313,18.762739],[73.353612,18.762291],[73.353738,18.762208],[73.353927,18.762146],[73.354004,18.76211],[73.354158,18.762086],[73.35438,18.762094],[73.354579,18.76213],[73.35496,18.76227],[73.35526,18.762506],[73.355469,18.762785],[73.355744,18.763345],[73.355856,18.763693],[73.356081,18.764085],[73.356365,18.764319],[73.356745,18.764587],[73.35714,18.764774],[73.357873,18.765005],[73.35827,18.765147],[73.35887,18.765503],[73.359337,18.765832],[73.359584,18.765991],[73.359783,18.766157],[73.360646,18.767328],[73.360732,18.76764],[73.360778,18.767844],[73.360832,18.767975],[73.361361,18.768509],[73.361759,18.768961],[73.361959,18.76924],[73.362144,18.76958],[73.362911,18.770504],[73.363169,18.770953],[73.363328,18.771329],[73.363495,18.771616],[73.363945,18.772136],[73.364088,18.77227],[73.364287,18.772594],[73.364362,18.772659],[73.364464,18.772719],[73.364574,18.772763],[73.364801,18.772819],[73.364869,18.772789],[73.364927,18.77273],[73.364954,18.772618],[73.36497,18.772261],[73.365027,18.772091],[73.365116,18.771938],[73.365176,18.771745],[73.365082,18.771034],[73.365,18.770653],[73.365003,18.770536],[73.365021,18.770487],[73.365074,18.770436],[73.365138,18.770408],[73.365242,18.770401],[73.365572,18.770493],[73.365917,18.770687],[73.366182,18.770769],[73.366329,18.770745],[73.366415,18.770697],[73.366532,18.770554],[73.366988,18.769682],[73.367397,18.768728],[73.367912,18.76765],[73.367964,18.767278],[73.368065,18.766965],[73.368197,18.766737],[73.368325,18.766445],[73.368419,18.766025],[73.368411,18.765625],[73.368348,18.765238],[73.368284,18.764813],[73.368129,18.7643],[73.368114,18.764158],[73.368145,18.764],[73.368309,18.763522],[73.368423,18.763037],[73.368489,18.762923],[73.368625,18.762796],[73.368806,18.762687],[73.369,18.762499],[73.369131,18.762308],[73.369253,18.76203],[73.369894,18.760357],[73.370108,18.759961],[73.371195,18.758574],[73.371369,18.758332],[73.371513,18.758068],[73.371627,18.757777],[73.371711,18.757594],[73.371811,18.757457],[73.371938,18.757389],[73.372122,18.757362],[73.37243,18.757377],[73.372611,18.757408],[73.372807,18.757442],[73.373512,18.757552],[73.374086,18.757715],[73.37441,18.757789],[73.374587,18.75783],[73.374749,18.757885],[73.374902,18.757993],[73.375003,18.758105],[73.375172,18.758166],[73.375482,18.758241],[73.375605,18.758284],[73.375755,18.758466],[73.376108,18.758193],[73.376702,18.757843],[73.377022,18.757697],[73.377227,18.75764],[73.377512,18.75764],[73.377737,18.757675],[73.377946,18.757817],[73.378134,18.757985],[73.378906,18.758732],[73.379249,18.759102],[73.379695,18.759514],[73.379856,18.759605],[73.380062,18.759679],[73.380418,18.75998],[73.380642,18.760113],[73.38079,18.760177],[73.381285,18.76032],[73.381544,18.760353],[73.381772,18.760337],[73.381939,18.760303],[73.382108,18.760234],[73.38248,18.760003],[73.382966,18.75975],[73.38307,18.75974],[73.383185,18.759747],[73.383469,18.759841],[73.383759,18.759946],[73.384268,18.76016],[73.38452,18.760258],[73.384682,18.760296],[73.384853,18.760314],[73.385068,18.760302],[73.38522,18.760227],[73.385313,18.760162],[73.385502,18.759956],[73.385695,18.759902],[73.386001,18.759916],[73.38664,18.760002],[73.386869,18.760061],[73.38727,18.7603],[73.387449,18.760344],[73.387609,18.760331],[73.387958,18.760219],[73.388418,18.760049],[73.389061,18.759871],[73.389447,18.759782],[73.389938,18.759742],[73.390941,18.759794],[73.39121,18.759777],[73.391441,18.759701],[73.391639,18.759563],[73.392017,18.759197],[73.392398,18.758974],[73.392832,18.758764],[73.393991,18.758289],[73.394144,18.758228],[73.395996,18.757437],[73.396881,18.757015],[73.397788,18.756479],[73.3991,18.755718],[73.399726,18.755338],[73.401188,18.754495],[73.401439,18.75437],[73.401716,18.75429],[73.402589,18.754218],[73.402964,18.754173],[73.403467,18.754112],[73.404293,18.754016],[73.404378,18.75401],[73.404879,18.754021],[73.4052,18.754071],[73.405793,18.754198],[73.406075,18.754247],[73.406628,18.75449],[73.407996,18.755176],[73.40848,18.755413],[73.409076,18.755705],[73.410175,18.756243],[73.411515,18.756898],[73.411689,18.756983],[73.412035,18.757153],[73.413436,18.757849],[73.414722,18.758471],[73.415691,18.758961],[73.415822,18.758992],[73.415842,18.759003],[73.416596,18.759388],[73.417051,18.759575],[73.418447,18.760035],[73.419403,18.760346],[73.420687,18.7607],[73.421201,18.760842],[73.421607,18.760885],[73.421956,18.760913],[73.422312,18.76092],[73.422733,18.760905],[73.423666,18.760771],[73.424317,18.760644],[73.424929,18.760485],[73.425309,18.76039],[73.42672,18.760102],[73.428212,18.759797],[73.430704,18.759239],[73.430808,18.759266],[73.431348,18.759156],[73.43179,18.759069],[73.432392,18.758924],[73.432749,18.758884],[73.433749,18.758896],[73.434517,18.758966],[73.434761,18.759018],[73.435144,18.759099],[73.435469,18.759196],[73.435709,18.759267],[73.4367,18.759694],[73.437059,18.759824],[73.437226,18.759879],[73.438647,18.760079],[73.439274,18.760167],[73.439612,18.760214],[73.439718,18.760229],[73.439762,18.760234],[73.439864,18.760247],[73.442334,18.760556],[73.446077,18.761068],[73.446584,18.761137],[73.448029,18.761335],[73.44976,18.761572],[73.450825,18.761778],[73.451286,18.761844],[73.451761,18.761878],[73.452074,18.761876],[73.452424,18.761834],[73.453766,18.761586],[73.454484,18.761453],[73.460806,18.760284],[73.461094,18.76024],[73.461376,18.760213],[73.462217,18.760223],[73.462707,18.760286],[73.463624,18.760475],[73.464822,18.760716],[73.46515,18.760758],[73.465386,18.760754],[73.465588,18.760725],[73.467972,18.76009],[73.468224,18.760043],[73.468497,18.760014],[73.468792,18.76002],[73.469041,18.760044],[73.470372,18.760239],[73.470842,18.760299],[73.471245,18.760324],[73.471885,18.760325],[73.472697,18.760299],[73.473524,18.760311],[73.473778,18.760335],[73.474391,18.760469],[73.474806,18.760589],[73.475263,18.760743],[73.478541,18.762052],[73.478923,18.762181],[73.480246,18.762484],[73.483998,18.763318],[73.48529,18.763606],[73.488028,18.764214],[73.495451,18.765866],[73.501091,18.767123],[73.50147,18.767204],[73.501981,18.767283],[73.503495,18.767474],[73.503836,18.767484],[73.504162,18.767444],[73.504453,18.767368],[73.504856,18.767188],[73.508891,18.765156],[73.509242,18.764926],[73.510377,18.764105],[73.515929,18.760099],[73.518451,18.758279],[73.521112,18.756358],[73.521348,18.756246],[73.521653,18.756143],[73.521909,18.756098],[73.522613,18.756084],[73.52401,18.756056],[73.52512,18.756057],[73.525379,18.756031],[73.525756,18.755973],[73.525938,18.755958],[73.526948,18.75594],[73.527065,18.755951],[73.527183,18.755962],[73.527468,18.756055],[73.527858,18.756217],[73.528351,18.756481],[73.529434,18.757193],[73.530815,18.758003],[73.531038,18.758092],[73.531282,18.758163],[73.532609,18.758433],[73.53284,18.75849],[73.533044,18.758568],[73.533265,18.758682],[73.535332,18.75989],[73.537941,18.761132],[73.539039,18.761768],[73.539427,18.76197],[73.539869,18.762118],[73.540507,18.762255],[73.540688,18.762322],[73.54095,18.762484],[73.541097,18.762618],[73.541213,18.762766],[73.541298,18.762918],[73.541559,18.763527],[73.541662,18.763689],[73.541815,18.763842],[73.541987,18.763972],[73.542175,18.764082],[73.54263,18.764249],[73.542896,18.764304],[73.543192,18.764336],[73.544023,18.764377],[73.544239,18.764361],[73.544448,18.764316],[73.5446,18.76426],[73.545539,18.763676],[73.546351,18.763102],[73.547004,18.762601],[73.547484,18.762274],[73.547739,18.762043],[73.547954,18.76179],[73.548108,18.761532],[73.548452,18.760438],[73.548727,18.759686],[73.548826,18.759258],[73.548903,18.758816],[73.548986,18.758615],[73.549196,18.758375],[73.549347,18.758243],[73.549444,18.758186],[73.54968,18.758105],[73.549817,18.758084],[73.550057,18.758102],[73.550272,18.758166],[73.551848,18.758855],[73.552467,18.759142],[73.552657,18.759231],[73.554735,18.760204],[73.557094,18.761282],[73.558766,18.76205],[73.559159,18.762212],[73.559414,18.762269],[73.559809,18.762312],[73.560297,18.762326],[73.560678,18.76229],[73.561067,18.762217],[73.562773,18.761832],[73.563838,18.761507],[73.564251,18.76136],[73.566783,18.760338],[73.567498,18.760091],[73.569681,18.759445],[73.572964,18.758534],[73.57324,18.758481],[73.573276,18.758474],[73.574853,18.758192],[73.575615,18.758042],[73.576544,18.757804],[73.576659,18.757774],[73.576995,18.757688],[73.57747,18.757594],[73.57791,18.75755],[73.580673,18.75736],[73.582451,18.75727],[73.583021,18.757243],[73.583267,18.757245],[73.585026,18.757288],[73.58649,18.757353],[73.58818,18.757428],[73.593217,18.75725],[73.593637,18.757209],[73.59405,18.757169],[73.594485,18.757127],[73.595058,18.757071],[73.596484,18.756899],[73.596862,18.756852],[73.597377,18.75676],[73.598635,18.756465],[73.599537,18.756192],[73.600389,18.755909],[73.600484,18.755877],[73.603467,18.754856],[73.603888,18.754655],[73.604704,18.754217],[73.6053,18.753948],[73.606132,18.753582],[73.607213,18.75323],[73.607609,18.75313],[73.608393,18.75298],[73.6087,18.752905],[73.608912,18.752836],[73.60967,18.75258],[73.612196,18.751536],[73.61291,18.751249],[73.613434,18.751059],[73.613752,18.75098],[73.614847,18.750772],[73.616603,18.750474],[73.617222,18.750291],[73.618761,18.749671],[73.619177,18.74955],[73.620745,18.74922],[73.622095,18.74881],[73.624785,18.747946],[73.625035,18.747854],[73.62549,18.747589],[73.62658,18.746964],[73.628226,18.745969],[73.628909,18.745544],[73.629475,18.74514],[73.629875,18.744802],[73.630141,18.744545],[73.630409,18.744214],[73.630732,18.743729],[73.630832,18.743571],[73.632473,18.740909],[73.632717,18.74059],[73.632889,18.740405],[73.633304,18.740032],[73.635422,18.738472],[73.635828,18.738221],[73.63619,18.737997],[73.636582,18.737814],[73.637008,18.737666],[73.638033,18.737422],[73.638897,18.73722],[73.643813,18.736021],[73.644353,18.735883],[73.644779,18.735736],[73.644931,18.735683],[73.645359,18.73543],[73.647119,18.733824],[73.647926,18.733053],[73.64889,18.731956],[73.649243,18.7316],[73.649479,18.731411],[73.649834,18.731163],[73.649903,18.731115],[73.650278,18.730859],[73.650737,18.730546],[73.651384,18.730052],[73.652019,18.729532],[73.652125,18.729429],[73.652402,18.729225],[73.652828,18.728929],[73.653765,18.728327],[73.654101,18.728226],[73.654419,18.728232],[73.654506,18.728275],[73.654587,18.728287],[73.65487,18.728444],[73.655015,18.728503],[73.655322,18.728628],[73.655686,18.728718],[73.658271,18.729206],[73.658561,18.729277],[73.658957,18.729399],[73.659201,18.729523],[73.659334,18.729627],[73.660053,18.730265],[73.661113,18.731225],[73.66155,18.73156],[73.661892,18.731795],[73.662161,18.731948],[73.662389,18.732071],[73.66273,18.732236],[73.663391,18.732511],[73.66371,18.732643],[73.664355,18.73293],[73.664733,18.733028],[73.664868,18.733053],[73.664934,18.733066],[73.665415,18.733155],[73.665948,18.733165],[73.666393,18.733056],[73.666597,18.733007],[73.667256,18.732797],[73.667492,18.732721],[73.66757,18.732696],[73.668105,18.732533],[73.668202,18.732503],[73.668925,18.732344],[73.66938,18.732292],[73.669667,18.732275],[73.670418,18.732297],[73.670711,18.732357],[73.671046,18.732384],[73.671406,18.732384],[73.671619,18.732403],[73.672424,18.732513],[73.673509,18.732736],[73.673614,18.732722],[73.673685,18.732722],[73.674388,18.732726],[73.674517,18.732772],[73.674646,18.732854],[73.67485,18.732979],[73.675087,18.733074],[73.675242,18.733158],[73.676743,18.733471],[73.67704,18.733508],[73.677842,18.733564],[73.678251,18.733589],[73.679116,18.733674],[73.679656,18.733723],[73.679801,18.733713],[73.679885,18.733719],[73.680966,18.733865],[73.681199,18.733892],[73.681771,18.733959],[73.682732,18.73407],[73.684052,18.734185],[73.685957,18.734329],[73.68658,18.734376],[73.687111,18.734427],[73.687626,18.734469],[73.688662,18.734547],[73.69014,18.734655],[73.69043,18.734685],[73.692421,18.734822],[73.693092,18.734874],[73.693144,18.734878],[73.693863,18.73493],[73.694374,18.73499],[73.695195,18.73504],[73.695646,18.73507],[73.696019,18.735095],[73.696575,18.735136],[73.697031,18.735173],[73.697456,18.735212],[73.697602,18.735238],[73.698285,18.735449],[73.698395,18.735495],[73.698586,18.735576],[73.699599,18.736106],[73.699777,18.736183],[73.699936,18.736231],[73.700099,18.736265],[73.700301,18.736274],[73.700727,18.736252],[73.704704,18.735752],[73.70922,18.735195],[73.70995,18.734762],[73.7104,18.734541],[73.710646,18.734478],[73.712085,18.734306],[73.713278,18.734184],[73.713806,18.734126],[73.714158,18.734105],[73.715226,18.734079],[73.716272,18.733921],[73.71725,18.733785],[73.717537,18.733765],[73.71767,18.733775],[73.717797,18.733812],[73.717891,18.733861],[73.718021,18.733961],[73.718883,18.734732],[73.720691,18.736351],[73.72094,18.736574],[73.721717,18.73727],[73.722394,18.737848],[73.722664,18.738028],[73.722833,18.738104],[73.723087,18.738194],[73.723317,18.738248],[73.7239,18.738356],[73.724187,18.738387],[73.724442,18.738384],[73.724758,18.738342],[73.725154,18.738262],[73.72554,18.738133],[73.726575,18.737724],[73.726767,18.737663],[73.726943,18.73764],[73.727101,18.737637],[73.727251,18.737653],[73.729221,18.73806],[73.729461,18.738103],[73.729675,18.738121],[73.729851,18.738112],[73.731289,18.737915],[73.73158,18.737904],[73.731985,18.737936],[73.732802,18.738138],[73.733149,18.738199],[73.733684,18.738248],[73.733861,18.73828],[73.734118,18.738334],[73.735669,18.738737],[73.736152,18.738816],[73.736789,18.738851],[73.737213,18.738867],[73.738645,18.738914],[73.740138,18.738908],[73.74167,18.738901],[73.742176,18.738922],[73.743646,18.739072],[73.744107,18.739125],[73.744867,18.739214],[73.745345,18.73926],[73.745793,18.739278],[73.746314,18.73926],[73.74657,18.739237],[73.748861,18.739022],[73.749204,18.738985],[73.750174,18.738888],[73.75057,18.738848],[73.751405,18.738765],[73.751636,18.738742],[73.751841,18.738721],[73.751979,18.738707],[73.752484,18.738668],[73.752718,18.738668],[73.753018,18.738691],[73.754844,18.739079],[73.755224,18.739162],[73.756178,18.739379],[73.757625,18.739692],[73.759629,18.740119],[73.76011,18.740219],[73.760987,18.740401],[73.761327,18.740447],[73.761635,18.740562],[73.761736,18.74062],[73.761852,18.740767],[73.761929,18.740926],[73.76214,18.741396],[73.762239,18.741572],[73.762361,18.741668],[73.762464,18.741707],[73.762607,18.741729],[73.762886,18.741716],[73.76306,18.741743],[73.764452,18.741862],[73.772342,18.74254],[73.772682,18.742561],[73.772906,18.742556],[73.773317,18.742505],[73.7743,18.742296],[73.774738,18.74222],[73.775635,18.742044],[73.776247,18.741917],[73.777182,18.741696],[73.777838,18.741543],[73.778394,18.741403],[73.778636,18.741291],[73.77876,18.741214],[73.779247,18.740889],[73.779391,18.740843],[73.779484,18.740844],[73.779654,18.740877],[73.781058,18.741363],[73.781562,18.741538],[73.78212,18.74173],[73.78227,18.741769],[73.782468,18.741794],[73.782637,18.741787],[73.782802,18.741756],[73.783274,18.741606],[73.783471,18.741618],[73.78359,18.74165],[73.78498,18.742205],[73.785556,18.742435],[73.785841,18.742566],[73.786098,18.742698],[73.786346,18.742865],[73.786593,18.74308],[73.786828,18.743333],[73.787543,18.74442],[73.788229,18.745475],[73.788436,18.745794],[73.788629,18.746117],[73.789189,18.746956],[73.789497,18.747393],[73.789704,18.747654],[73.789881,18.747842],[73.790365,18.748271],[73.791931,18.749613],[73.792133,18.749785],[73.792374,18.749992],[73.79316,18.750665],[73.79363,18.751068],[73.794312,18.751652],[73.794633,18.751927],[73.794844,18.752086],[73.795295,18.752408],[73.796112,18.752985],[73.796283,18.753076],[73.79647,18.753144],[73.797602,18.753479],[73.799066,18.753914],[73.79948,18.754037],[73.800705,18.754354],[73.801205,18.754459],[73.801709,18.754541],[73.802463,18.75461],[73.803991,18.75473],[73.804773,18.754749],[73.805461,18.754708],[73.805728,18.754674],[73.806555,18.754575],[73.806809,18.754546],[73.807251,18.754511],[73.807397,18.754534],[73.807543,18.754578],[73.807749,18.754653],[73.807912,18.754722],[73.808057,18.754782],[73.808142,18.754817],[73.808244,18.75486],[73.808422,18.754934],[73.809085,18.755211],[73.810911,18.755973],[73.812665,18.756705],[73.815514,18.757894],[73.815996,18.758091],[73.816306,18.758191],[73.817948,18.758674],[73.818558,18.758849],[73.818754,18.758888],[73.819293,18.758925],[73.820781,18.758992],[73.821174,18.75901],[73.821676,18.759057],[73.822319,18.759167],[73.822407,18.759204],[73.82264,18.759336],[73.823071,18.759673],[73.823176,18.759725],[73.82345,18.759777],[73.824676,18.759853],[73.824815,18.759862],[73.826129,18.759943],[73.826215,18.759949],[73.826737,18.759962],[73.827013,18.759931],[73.827626,18.759748],[73.829604,18.759121],[73.830255,18.758923],[73.830711,18.758813],[73.831161,18.758769],[73.83144,18.758783],[73.831708,18.758814],[73.833194,18.759028],[73.833504,18.759038],[73.833762,18.75902],[73.83428,18.758949],[73.83467,18.758905],[73.835549,18.758803],[73.835775,18.758777],[73.836154,18.758734],[73.836552,18.758678],[73.836808,18.758622],[73.837212,18.758511],[73.837393,18.758429],[73.837812,18.758215],[73.837976,18.75816],[73.838174,18.758117],[73.839569,18.757902],[73.840459,18.757764],[73.840951,18.75767],[73.841638,18.757539],[73.84203,18.757465],[73.843444,18.757187],[73.843505,18.757176],[73.843795,18.757127],[73.844374,18.757051],[73.844682,18.75701],[73.844833,18.756983],[73.846825,18.756624],[73.847162,18.756555],[73.847499,18.756455],[73.847807,18.756361],[73.84846,18.756143],[73.849388,18.755819],[73.849721,18.755727],[73.850169,18.755659],[73.852163,18.755413],[73.852349,18.75539],[73.852729,18.755335],[73.852792,18.755326],[73.852843,18.75532],[73.853598,18.755233],[73.853918,18.755196],[73.854159,18.755181],[73.854398,18.755187],[73.854813,18.755237],[73.855135,18.75525],[73.855382,18.755241],[73.855671,18.755202],[73.85629,18.755162],[73.856507,18.755169],[73.857271,18.755278],[73.857655,18.755328],[73.857995,18.755357],[73.858903,18.755357],[73.858993,18.755358],[73.859098,18.755366],[73.859136,18.755174],[73.859435,18.753958],[73.859484,18.753759],[73.860092,18.751249],[73.860135,18.750932],[73.860146,18.750664],[73.860124,18.750239],[73.860109,18.749952],[73.859924,18.748066],[73.859849,18.747262],[73.859655,18.745593],[73.859066,18.740678],[73.859013,18.740314],[73.858938,18.739973],[73.858828,18.73966],[73.858675,18.739324],[73.857917,18.73795],[73.857826,18.737723],[73.857701,18.737299],[73.857532,18.736377],[73.857132,18.734195],[73.857063,18.7339],[73.856413,18.73185],[73.856241,18.731308],[73.85532,18.729163],[73.856866,18.728701],[73.856943,18.728783],[73.857071,18.729155]
]

# Parse GPS data into separate lists for latitude and longitude
lats, lons = zip(*gps_data)

# Step 1: Visualizing GPS points on a map using Folium
def plot_route(gps_data):
    # Create a map centered around the first point
    m = folium.Map(location=[gps_data[0][1], gps_data[0][0]], zoom_start=14)
    
    # Add points to the map
    for coord in gps_data:
        folium.CircleMarker(location=[coord[1], coord[0]], radius=3, color='blue', fill=True).add_to(m)
    
    # Add a line connecting the points
    folium.PolyLine([(point[1], point[0]) for point in gps_data], color="red", weight=2.5, opacity=1).add_to(m)
    
    return m

# Display the map
route_map = plot_route(gps_data)
route_map.save("gps_route_map.html")
display(route_map)
print("Map saved as 'gps_route_map.html'.")

# Step 2: Clustering GPS points using DBSCAN
def cluster_gps_points(gps_data, eps=0.05, min_samples=5):
    # Convert coordinates to numpy array
    coords = np.array(gps_data)
    
    # Haversine distance requires radians
    kms_per_radian = 6371.0088
    epsilon = eps / kms_per_radian
    
    # DBSCAN clustering
    db = DBSCAN(eps=epsilon, min_samples=min_samples, metric='haversine').fit(np.radians(coords))
    labels = db.labels_
    
    # Extract clusters
    clusters = [coords[labels == cluster] for cluster in set(labels) if cluster != -1]
    return labels, clusters

labels, clusters = cluster_gps_points(gps_data)

# Display cluster details
for i, cluster in enumerate(clusters):
    print(f"Cluster {i+1}: {len(cluster)} points")

# Step 3: Plot clusters on a map
def plot_clusters(gps_data, labels):
    # Create a map centered around the first point
    m = folium.Map(location=[gps_data[0][1], gps_data[0][0]], zoom_start=14)
    
    unique_labels = set(labels)
    colors = ['red', 'blue', 'green', 'purple', 'orange', 'darkred', 'darkblue', 'darkgreen', 'darkpurple']
    
    # Plot each cluster with a unique color
    for label in unique_labels:
        if label == -1:
            # Noise points
            color = 'black'
        else:
            color = colors[label % len(colors)]
        
        for coord, cluster_label in zip(gps_data, labels):
            if cluster_label == label:
                folium.CircleMarker(location=[coord[1], coord[0]], radius=4, color=color, fill=True).add_to(m)
    
    return m


cluster_map = plot_clusters(gps_data, labels)
cluster_map.save("gps_cluster_map.html")
display(cluster_map)
print("Cluster map saved as 'gps_cluster_map.html'.")

import os
print("Files saved in:", os.getcwd())
